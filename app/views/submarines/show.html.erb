<div class="container mt-4">
  <div class="row">
    <!-- Top-left area: Image -->
    <div class="col-md-6">
      <img src="https://via.placeholder.com/1200x800" class="img-fluid" alt="<%= @submarine.name %> Image">
    </div>

    <!-- Top-right area: Booking Form -->
    <div class="col-md-6">
  <h4>Booking Form</h4>
  <%= form_with(url: new_submarine_booking_path(@submarine), method: :get) do %>
    <div class="form-group">
      <label for="bookingStartDate">Start Date</label>
      <input type="date" class="form-control" id="bookingStartDate" name="start_date" min="<%= Date.today %>" required>
    </div>

    <div class="form-group mt-2">
      <label for="bookingEndDate">End Date</label>
      <input type="date" class="form-control" id="bookingEndDate" name="end_date" required>
    </div>
    <div class="form-group mt-2">

      <button type="submit" class="btn btn-primary">Book Now</button>
    </div>
  <% end %>
</div>

  <script>
  const startDateInput = document.querySelector("#bookingStartDate");
  const endDateInput = document.querySelector("#bookingEndDate");

  startDateInput.addEventListener("change", (event) => {
    const startDate = event.target.value;
    endDateInput.setAttribute("min", startDate);
    if (endDateInput.value && endDateInput.value < startDate) {
      endDateInput.value = "";
    }
  });
  </script>
  </div>

  <!-- Submarine Description -->
  <div class="row mt-4">
    <div class="col-md-12">
      <h2><%= @submarine.name %></h2>
    </div>
  </div>

  <!-- Quick Details -->
  <div class="row mt-4">
    <div class="col-md-12">
      <div class="card shadow">
        <div class="card-body">
          <h5>Quick Details</h5>
          <ul>
            <li><strong>Description:</strong> <%= @submarine.description %></li>
            <li><strong>Weight:</strong> <%= @submarine.weight_ton %> tons</li>
            <li><strong>Class:</strong> <%= @submarine.submarine_class %></li>
            <li><strong>Production Year:</strong> <%= @submarine.prod_year %></li>
            <li><strong>Amenities:</strong> <%= @submarine.amenities %></li>
            <li><strong>Speed:</strong> <%= @submarine.speed %> knots</li>
            <li><strong>Price:</strong> $<%= @submarine.price %></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-12">
      <%= link_to 'Destroy', submarine_path(@submarine), data: { turbo_confirm: 'Are you sure you want to delete this submarine?', turbo_method: :delete }, class: 'btn btn-danger' %>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-12">
      <a href="/submarines" class="btn btn-secondary">Back</a>
    </div>
  </div>
</div>
